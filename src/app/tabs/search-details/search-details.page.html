<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-back-button slot="start" defaultHref="#"></ion-back-button>
    <ion-title>Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <img [src]="movie?.poster_path ? imageBaseUrl + '/w400' + movie.poster_path : ''" alt="" class="responsive-image">
    <ion-card-header>
      <div class="header-content">
        <ion-card-title>{{ movie.title }}</ion-card-title>
        <ion-card-subtitle>{{ movie.tagline }}</ion-card-subtitle>
        <ion-text color="primary">
          <span *ngFor="let g of movie.genres; let isLast = last">
            {{ g.name }}{{ !isLast ? ',' : '' }}
          </span>
        </ion-text>
      </div>
    </ion-card-header>

    <ion-card-content>
      <!-- <h1 class="label ion-margin-start">Trailers</h1>
      <div class="scrollable-container">
        <div class="video-wrapper" *ngFor="let video of videos">
          <iframe width="100%" height="200" [src]="sanitizeUrl('https://www.youtube.com/embed/' + video.key)"
            frameborder="0" allowfullscreen></iframe>
        </div>
        <div *ngIf="videos.length === 0" class="placeholder">
          No videos available.
        </div>
      </div> -->

      <ion-buttons>
        <ion-button (click)="addToFavorites()" color="success">
          Add to Favorites
        </ion-button>
        <ion-button (click)="addToWatchlist()" color="success">
          Add to Watchlist
        </ion-button>
      </ion-buttons>
      <ion-buttons>
        <p class="bold">Copy the URLs shown to watch movie: https://vidsrc.to/embed/movie/{{ movie.id }}</p>
      </ion-buttons>

      <h1 class="label">Summary</h1>
      <ion-text>
        {{ movie.overview }}
      </ion-text>

      <h1 class="label">Cast:</h1>
      <ion-list lines="full" style="overflow-y: auto; max-height: 300px;">
        <ion-item *ngFor="let cast of castList">
          <ion-avatar slot="start">
            <img
              [src]="cast?.profile_path ? imageBaseUrl + '/w185' + cast.profile_path : 'assets/images/default-avatar.png'">
          </ion-avatar>
          <ion-label>
            <h3>{{ cast.name }}</h3>
            <p>{{ cast.character }}</p>
          </ion-label>
        </ion-item>
      </ion-list>

      <h1 class="label">Crew:</h1>
      <ion-list lines="full" style="overflow-y: auto; max-height: 300px;">
        <ion-item *ngFor="let crew of crewList">
          <ion-avatar slot="start">
            <img
              [src]="crew?.profile_path ? imageBaseUrl + '/w185' + crew.profile_path : 'assets/images/default-avatar.png'">
          </ion-avatar>
          <ion-label>
            <h3>{{ crew.name }}</h3>
            <p>{{ crew.job }}</p>
          </ion-label>
        </ion-item>
      </ion-list>

      <h1 class="label">Status:</h1>
      <ion-item lines="none">
        <ion-icon slot="start" name="bookmark-outline"></ion-icon>
        <ion-label>
          {{ movie.status }}
        </ion-label>
      </ion-item>

      <h1 class="label release">Release date:</h1>
      <ion-item lines="none">
        <ion-icon name="calendar-outline" slot="start"></ion-icon>
        <ion-label>
          {{ movie.release_date | date: 'Y - MMMM' }}
        </ion-label>
      </ion-item>

      <h1 class="label">Duration:</h1>
      <ion-item lines="none">
        <ion-icon name="hourglass-outline" slot="start"></ion-icon>
        <ion-label>
          {{ movie.runtime }} Minutes
        </ion-label>
      </ion-item>

      <h1 class="label">Budget:</h1>
      <ion-item lines="none">
        <ion-icon name="cash-outline" slot="start"></ion-icon>
        <ion-label>
          {{ movie.budget | currency: 'USD ' }}
        </ion-label>
      </ion-item>

      <h1 class="label revenue">Revenue:</h1>
      <ion-item lines="none">
        <ion-icon name="cash-outline" slot="start"></ion-icon>
        <ion-label>
          {{ movie.revenue | currency: 'USD ' }}
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <!-- <ion-card>
    <img *ngIf="show?.poster_path" [src]="imageBaseUrl + '/w500' + show?.poster_path" alt="{{ show?.name }}">
    <ion-card-content>
      <ion-card-title>{{ show?.name }}</ion-card-title>
      <ion-card-subtitle>{{ show?.tagline }}</ion-card-subtitle>

      <p>{{ show?.overview }}</p>
      <p>Origin Country: {{ show?.origin_country }}</p>
      <p>Homepage: <a *ngIf="show?.homepage" [href]="show.homepage" target="_blank">{{ show?.homepage }}</a></p>
      <p>In Production: {{ show?.in_production }}</p>
      <p>Language:
        {{ show?.original_language === 'en' ? 'English' :
        show?.original_language === 'ja' ? 'Japanese' :
        show?.original_language }}
      </p>

      <p>Episodes runtime: {{ show?.episode_run_time }} Minutes</p>
      <p>Number of Episodes: {{ show?.number_of_episodes }}</p>
      <p>Number of Seasons: {{ show?.number_of_seasons }}</p>
    </ion-card-content>
  </ion-card> -->
</ion-content>